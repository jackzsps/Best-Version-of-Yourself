
Running 1 test using 1 worker

Starting Mobile MCP Client...
[Mobile MCP Client] Starting npx @mobilenext/mobile-mcp@latest...
mobile-mcp server running on stdio
[Mobile MCP Client] Connected successfully.
Discovering Booted iOS Simulator...
Invoking mobile_list_available_devices with args: {"noParams":{}}
Could not execute adb command, maybe ANDROID_HOME is not set?
go-ios is not installed, no physical iOS devices can be detected
=> {"devices":[{"id":"13E269BF-60FB-4B1F-B9FE-7A1CDA4318F7","name":"iPhone 17 Pro","platform":"ios","type":"simulator","version":"26.2","state":"online"}]}
Connected to iPhone 17 Pro
Launching BestVersionOfYourself App...
Navigating to Add Tab...
Invoking mobile_click_on_screen_at_coordinates with args: {"device":"13E269BF-60FB-4B1F-B9FE-7A1CDA4318F7","x":200,"y":800}
go-ios is not installed, no physical iOS devices can be detected
Could not execute adb command, maybe ANDROID_HOME is not set?
=> Clicked on screen at coordinates: 200, 800
Tapping Manual Entry...
Invoking mobile_click_on_screen_at_coordinates with args: {"device":"13E269BF-60FB-4B1F-B9FE-7A1CDA4318F7","x":196,"y":420}
go-ios is not installed, no physical iOS devices can be detected
Could not execute adb command, maybe ANDROID_HOME is not set?
=> Clicked on screen at coordinates: 196, 420
Typing Item Name...
Invoking mobile_click_on_screen_at_coordinates with args: {"device":"13E269BF-60FB-4B1F-B9FE-7A1CDA4318F7","x":200,"y":250}
go-ios is not installed, no physical iOS devices can be detected
Could not execute adb command, maybe ANDROID_HOME is not set?
=> Clicked on screen at coordinates: 200, 250
Typing Cost...
Invoking mobile_click_on_screen_at_coordinates with args: {"device":"13E269BF-60FB-4B1F-B9FE-7A1CDA4318F7","x":200,"y":340}
go-ios is not installed, no physical iOS devices can be detected
Could not execute adb command, maybe ANDROID_HOME is not set?
=> Clicked on screen at coordinates: 200, 340
Dismissing Keyboard...
Invoking mobile_click_on_screen_at_coordinates with args: {"device":"13E269BF-60FB-4B1F-B9FE-7A1CDA4318F7","x":200,"y":80}
go-ios is not installed, no physical iOS devices can be detected
Could not execute adb command, maybe ANDROID_HOME is not set?
=> Clicked on screen at coordinates: 200, 80
Swiping down to find Save button...
Invoking mobile_list_elements_on_screen with args: {"device":"13E269BF-60FB-4B1F-B9FE-7A1CDA4318F7"}
go-ios is not installed, no physical iOS devices can be detected
Could not execute adb command, maybe ANDROID_HOME is not set?
=> Found these elements on screen: [{"type":"StaticText","label":"新增紀錄","name":"新增紀錄","value":"新增紀錄","coordinates":{"x":24,"y":44,"width":354,"height":32}},{"type":"StaticText","label":"新增紀錄","name":"新增紀錄","value":"新增紀錄","coordinates":{"x":24,"y":44,"width":354,"height":32}},{"type":"StaticText","label":"拍攝照片，立即開始追蹤。","name":"拍攝照片，立即開始追蹤。","value":"拍攝照片，立即開始追蹤。","coordinates":{"x":24,"y":84,"width":354,"height":20}},{"type":"StaticText","label":"拍攝照片，立即開始追蹤。","name":"拍攝照片，立即開始追蹤。","value":"拍攝照片，立即開始追蹤。","coordinates":{"x":24,"y":84,"width":354,"height":20}},{"type":"StaticText","label":"確認紀錄","name":"確認紀錄","value":"確認紀錄","coordinates":{"x":49,"y":160,"width":304,"height":23}},{"type":"StaticText","label":"確認紀錄","name":"確認紀錄","value":"確認紀錄","coordinates":{"x":49,"y":160,"width":304,"height":23}},{"type":"StaticText","label":"項目名稱","name":"項目名稱","value":"項目名稱","coordinates":{"x":49,"y":202,"width":304,"height":16}},{"type":"StaticText","label":"項目名稱","name":"項目名稱","value":"項目名稱","coordinates":{"x":49,"y":202,"width":304,"height":16}},{"type":"TextField","label":"","value":"項目名稱","coordinates":{"x":50,"y":226,"width":302,"height":49}},{"type":"StaticText","label":"花費 ($)","name":"花費 ($)","value":"花費 ($)","coordinates":{"x":49,"y":291,"width":304,"height":16}},{"type":"StaticText","label":"花費 ($)","name":"花費 ($)","value":"花費 ($)","coordinates":{"x":49,"y":291,"width":304,"height":16}},{"type":"TextField","label":"","value":"000","coordinates":{"x":50,"y":315,"width":302,"height":49}},{"type":"StaticText","label":"熱量 (大卡)","name":"熱量 (大卡)","value":"熱量 (大卡)","coordinates":{"x":49,"y":464,"width":304,"height":17}},{"type":"StaticText","label":"熱量 (大卡)","name":"熱量 (大卡)","value":"熱量 (大卡)","coordinates":{"x":49,"y":464,"width":304,"height":17}},{"type":"TextField","label":"","value":"0","coordinates":{"x":50,"y":489,"width":302,"height":49}},{"type":"StaticText","label":"蛋白質","name":"蛋白質","value":"蛋白質","coordinates":{"x":49,"y":562,"width":94,"height":15}},{"type":"StaticText","label":"蛋白質","name":"蛋白質","value":"蛋白質","coordinates":{"x":49,"y":562,"width":94,"height":15}},{"type":"StaticText","label":"碳水","name":"碳水","value":"碳水","coordinates":{"x":154,"y":562,"width":94,"height":15}},{"type":"StaticText","label":"碳水","name":"碳水","value":"碳水","coordinates":{"x":154,"y":562,"width":94,"height":15}},{"type":"StaticText","label":"脂肪","name":"脂肪","value":"脂肪","coordinates":{"x":259,"y":562,"width":95,"height":15}},{"type":"StaticText","label":"脂肪","name":"脂肪","value":"脂肪","coordinates":{"x":259,"y":562,"width":95,"height":15}},{"type":"TextField","label":"","value":"0","coordinates":{"x":50,"y":585,"width":92,"height":48}},{"type":"TextField","label":"","value":"0","coordinates":{"x":155,"y":585,"width":92,"height":48}},{"type":"TextField","label":"","value":"0","coordinates":{"x":260,"y":585,"width":93,"height":48}},{"type":"StaticText","label":"分類:","name":"分類:","value":"分類:","coordinates":{"x":49,"y":673,"width":35,"height":19}},{"type":"StaticText","label":"分類:","name":"分類:","value":"分類:","coordinates":{"x":49,"y":673,"width":35,"height":19}},{"type":"StaticText","label":"Other","name":"Other","value":"Other","coordinates":{"x":311,"y":673,"width":42,"height":19}},{"type":"StaticText","label":"Other","name":"Other","value":"Other","coordinates":{"x":311,"y":673,"width":42,"height":19}},{"type":"StaticText","label":"用途分類:","name":"用途分類:","value":"用途分類:","coordinates":{"x":49,"y":716,"width":65,"height":19}},{"type":"StaticText","label":"用途分類:","name":"用途分類:","value":"用途分類:","coordinates":{"x":49,"y":716,"width":65,"height":19}},{"type":"StaticText","label":"Need","name":"Need","value":"Need","coordinates":{"x":314,"y":716,"width":39,"height":19}},{"type":"StaticText","label":"Need","name":"Need","value":"Need","coordinates":{"x":314,"y":716,"width":39,"height":19}}]
[Mobile MCP Client] Disconnected.
  ✘  1 mobile_add_entry.spec.js:6:5 › Mobile Add Entry E2E › iOS Simulator can add an entry natively (31.5s)


  1) mobile_add_entry.spec.js:6:5 › Mobile Add Entry E2E › iOS Simulator can add an entry natively ─

    ReferenceError: saveElement is not defined

      108 |                 
      109 |                 // Match either "儲存紀錄", "儲存", "Save", "saveEntry"
    > 110 |                 saveElement = uiElements.find(e => e.label && (e.label.includes('儲存') || e.label.includes('Save') || e.label === 'saveEntry'));
          |                            ^
      111 |                 if (saveElement) break;
      112 |             }
      113 |
        at /Users/kuo/Documents/Best-Version-of-Yourself/e2e_tests/mobile_add_entry.spec.js:110:28

  1 failed
    mobile_add_entry.spec.js:6:5 › Mobile Add Entry E2E › iOS Simulator can add an entry natively ──
